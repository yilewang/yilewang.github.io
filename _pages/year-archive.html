---
layout: archive
permalink: /year-archive/
title: "Blog posts"
author_profile: true
redirect_from:
  - /wordpress/blog-posts/
---

{% include base_path %}

<div style="margin-bottom: 2em;">
  <h3>Filter by Tags</h3>
  <p id="tag-filters">
    {% assign all_tags = site.posts | map: 'tags' | flatten | compact | uniq | sort %}
    {% if all_tags.size > 0 %}
      {% for tag in all_tags %}
        {% if tag != nil and tag != '' %}
          <button class="btn btn--primary tag-filter-btn" data-tag="{{ tag | slugify }}" style="margin: 0.25em;">{{ tag }}</button>
        {% endif %}
      {% endfor %}
    {% endif %}
    <button class="btn btn--primary tag-filter-btn" id="clear-filters" style="margin: 0.25em;">Clear All</button>
  </p>
  <p id="active-filters" style="margin-top: 1em; font-style: italic; color: #666;"></p>
</div>

<div id="posts-container">
{% capture written_year %}'None'{% endcapture %}
{% for post in site.posts %}
  {% capture year %}{{ post.date | date: '%Y' }}{% endcapture %}
  {% if year != written_year %}
    <h2 id="{{ year | slugify }}" class="archive__subtitle year-header" data-year="{{ year }}">{{ year }}</h2>
    {% capture written_year %}{{ year }}{% endcapture %}
  {% endif %}
  {% if post.tags.size > 0 %}
    {% capture post_tags %}{% for tag in post.tags %}{{ tag | slugify }} {% endfor %}{% endcapture %}
    <div class="post-item" data-tags="{{ post_tags | strip }}">
  {% else %}
    <div class="post-item" data-tags="">
  {% endif %}
    {% include archive-single.html %}
  </div>
{% endfor %}
</div>

<script src="{{ base_path }}/assets/js/tag-filter.js"></script>

<style>
.tag-filter-btn.active {
  background-color: #2e7d32;
  border-color: #2e7d32;
}
</style>
